<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify Now Playing</title>
    <link rel="stylesheet" href="style.css">
    <!-- Thư viện ColorThief để lấy màu từ ảnh -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.2/color-thief.umd.js"></script>
</head>
<body>
    <!-- Vùng bao quanh 1920x1080 -->
    <div id="obs-canvas">
        
        <!-- Widget Player -->
        <div id="player-container" class="hidden">
            <!-- Background Gradient -->
            <div class="bg-gradient"></div>

            <div class="art-wrapper">
                <img id="album-art" src="" alt="Album Art" crossorigin="anonymous">
            </div>
            
            <div class="info-wrapper">
                <!-- Wrapper cho text chạy -->
                <div class="text-scroller">
                    <span id="track-name">Track Name</span>
                </div>
                <div class="text-scroller">
                    <span id="artist-name">Artist Name</span>
                </div>
            </div>
        </div>

        <!-- Lyrics Container -->
        <div id="lyrics-container" class="hidden">
            <div id="lyrics-content">
                <!-- Lyrics lines will be injected here -->
            </div>
        </div>

        <!-- Nút Cài đặt (góc màn hình) -->
        <div id="settings-btn">⚙️ Edit Layout</div>

        <!-- Panel hướng dẫn (chỉ hiện khi Edit Mode) -->
        <div id="edit-overlay" class="hidden">
            <h2>Chế độ chỉnh sửa</h2>
            <p>Kéo thả khung nhạc đến vị trí mong muốn.</p>
            
            <div class="control-group">
                <label for="scale-slider">Kích thước Player: <span id="scale-value">100%</span></label>
                <input type="range" id="scale-slider" min="0.5" max="2" step="0.1" value="1">
            </div>

            <div class="control-group">
                <label for="lyrics-scale-slider">Kích thước Lyrics: <span id="lyrics-scale-value">100%</span></label>
                <input type="range" id="lyrics-scale-slider" min="0.5" max="2" step="0.1" value="1">
            </div>

            <button id="save-btn">Lưu & Thoát</button>
        </div>

        <div id="login-msg" style="display:none; color: white; font-family: sans-serif; padding: 20px;">
            Chưa đăng nhập. Truy cập <a href="/login" style="color: #1DB954;">/login</a>.
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>